movies = [
    {
        "title": "The Shawshank Redemption",
        "genre": "Drama",
        "rating": 9.3,
        "synopsis": "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency."
    },
    {
        "title": "The Godfather",
        "genre": "Crime, Drama",
        "rating": 9.2,
        "synopsis": "The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son."
    },
    {
        "title": "The Dark Knight",
        "genre": "Action, Crime, Drama",
        "rating": 9.0,
        "synopsis": "When the menace known as the Joker emerges from his mysterious past, he wreaks havoc and chaos on the people of Gotham."
    },
    {
        "title": "Pulp Fiction",
        "genre": "Crime, Drama",
        "rating": 8.9,
        "synopsis": "The lives of two mob hitmen, a boxer, a gangster's wife, and a pair of diner bandits intertwine in four tales of violence and redemption."
    },
    {
        "title": "The Lord of the Rings: The Return of the King",
        "genre": "Action, Adventure, Drama",
        "rating": 8.9,
        "synopsis": "Gandalf and Aragorn lead the World of Men against Sauron's army to draw his gaze from Frodo and Sam as they approach Mount Doom with the One Ring."
    },
    {
        "title": "Forrest Gump",
        "genre": "Drama, Romance",
        "rating": 8.8,
        "synopsis": "The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75."
    },
    {
        "title": "Inception",
        "genre": "Action, Adventure, Sci-Fi",
        "rating": 8.8,
        "synopsis": "A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O."
    },
    {
        "title": "Fight Club",
        "genre": "Drama",
        "rating": 8.8,
        "synopsis": "An insomniac office worker and a devil-may-care soap maker form an underground fight club that evolves into something much, much more."
    },
    {
        "title": "The Matrix",
        "genre": "Action, Sci-Fi",
        "rating": 8.7,
        "synopsis": "A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers."
    },
    {
        "title": "Goodfellas",
        "genre": "Biography, Crime, Drama",
        "rating": 8.7,
        "synopsis": "The story of Henry Hill and his life in the mob, covering his relationship with his wife Karen Hill and his mob partners over a period of 25 years."
    },
    {
        "title": "The Empire Strikes Back",
        "genre": "Action, Adventure, Fantasy",
        "rating": 8.7,
        "synopsis": "After the Rebels are brutally overpowered by the Empire on the ice planet Hoth, Luke Skywalker begins Jedi training with Yoda, while his friends are pursued by Darth Vader."
    },
    {
        "title": "Interstellar",
        "genre": "Adventure, Drama, Sci-Fi",
        "rating": 8.6,
        "synopsis": "A team of explorers travel through a wormhole in space in an attempt to ensure humanity's survival."
    },
    {
        "title": "City of God",
        "genre": "Crime, Drama",
        "rating": 8.6,
        "synopsis": "In the slums of Rio, two kids' paths diverge as one struggles to become a photographer and the other a kingpin."
    },
    {
        "title": "Spirited Away",
        "genre": "Animation, Adventure, Family",
        "rating": 8.6,
        "synopsis": "During her family's move to the suburbs, a sullen 10-year-old girl wanders into a world ruled by gods, witches, and spirits, and where humans are changed into beasts."
    },
    {
        "title": "Saving Private Ryan",
        "genre": "Drama, War",
        "rating": 8.6,
        "synopsis": "Following the Normandy Landings, a group of U.S. soldiers go behind enemy lines to retrieve a paratrooper whose brothers have been killed in action."
    },
    {
        "title": "The Green Mile",
        "genre": "Crime, Drama, Fantasy",
        "rating": 8.6,
        "synopsis": "The lives of guards on Death Row are affected by one of their charges: a black man accused of child murder and rape, yet who has a mysterious gift."
    },
    {
        "title": "Parasite",
        "genre": "Comedy, Drama, Thriller",
        "rating": 8.6,
        "synopsis": "Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan."
    },
    {
        "title": "Léon: The Professional",
        "genre": "Action, Crime, Drama",
        "rating": 8.5,
        "synopsis": "Mathilda, a 12-year-old girl, is reluctantly taken in by Léon, a professional assassin, after her family is murdered. An unusual relationship forms as she becomes his protégée and learns the assassin's trade."
    },
    {
        "title": "The Lion King",
        "genre": "Animation, Adventure, Drama",
        "rating": 8.5,
        "synopsis": "Lion prince Simba and his father are targeted by his bitter uncle, who wants to ascend the throne himself."
    },
    {
        "title": "Gladiator",
        "genre": "Action, Adventure, Drama",
        "rating": 8.5,
        "synopsis": "A former Roman General sets out to exact vengeance against the corrupt emperor who murdered his family and sent him into slavery."
    },
    {
        "title": "The Prestige",
        "genre": "Drama, Mystery, Sci-Fi",
        "rating": 8.5,
        "synopsis": "After a tragic accident, two stage magicians engage in a battle to create the ultimate illusion while sacrificing everything they have to outwit each other."
    },
    {
        "title": "The Departed",
        "genre": "Crime, Drama, Thriller",
        "rating": 8.5,
        "synopsis": "An undercover cop and a mole in the police attempt to identify each other while infiltrating an Irish gang in South Boston."
    },
    {
        "title": "3 Idiots",
        "genre": "Comedy, Drama",
        "rating": 8.4,
        "synopsis": "Two friends are searching for their long lost companion. They revisit their college days and recall the memories of their friend who inspired them to think differently, even as the rest of the world called them 'idiots'."
    },
    {
        "title": "Dangal",
        "genre": "Action, Biography, Drama",
        "rating": 8.4,
        "synopsis": "Former wrestler Mahavir Singh Phogat and his two wrestler daughters struggle towards glory at the Commonwealth Games in the face of societal oppression." 
        },
    {
        "title": "Lagaan",
        "genre": "Drama, Musical, Sport",
        "rating": 8.1,
        "synopsis": "The people of a small village in Victorian India stake their future on a game of cricket against their ruthless British rulers."
    },
    {
        "title": "Baahubali: The Beginning",
        "genre": "Action, Drama",
        "rating": 8.1,
        "synopsis": "In ancient India, an adventurous and daring man becomes involved in a decades-old feud between two warring peoples."
    },
    {
        "title": "Baahubali 2: The Conclusion",
        "genre": "Action, Drama",
        "rating": 8.2,
        "synopsis": "When Shiva, the son of Bahubali, learns about his heritage, he begins to look for answers. His story is juxtaposed with past events that unfolded in the Mahishmati Kingdom."
    },
    {
        "title": "Gangs of Wasseypur",
        "genre": "Action, Crime, Drama",
        "rating": 8.2,
        "synopsis": "A clash between Sultan and Shahid Khan leads to the expulsion of Khan from Wasseypur, and ignites a deadly blood feud spanning three generations."
    },
    {
        "title": "PK",
        "genre": "Comedy, Drama, Sci-Fi",
        "rating": 8.1,
        "synopsis": "An alien on Earth loses the only device he can use to communicate with his spaceship. His innocent nature and child-like questions force the country to evaluate the impact of religion on its people."
    },
    {
        "title": "Taare Zameen Par",
        "genre": "Drama, Family",
        "rating": 8.4,
        "synopsis": "An eight-year-old boy is thought to be a lazy trouble-maker, until the new art teacher has the patience and compassion to discover the real problem behind his struggles in school."
    },
    {
        "title": "Drishyam",
        "genre": "Crime, Drama, Mystery",
        "rating": 8.2,
        "synopsis": "A man goes to extreme lengths to save his family from punishment after the son of a police officer is accidentally killed."
    }
]

def search_genre(genre):
    genre_m=[]
    for movie in movies:
        if genre in movie["genre"]:
            genre_m.append(movie)
    x=len(genre_m)
    for i in range(x):
        for j in range(x-i-1):
            if genre_m[j]['rating']<genre_m[j+1]['rating']:
                genre_m[j],genre_m[j+1]=genre_m[j+1],genre_m[j]
    for movie in genre_m:
        print(f"Movie Title: {movie['title']}")
        print(f"Rating: {movie['rating']}")
        print(f"Synopsis: {movie['synopsis']}\n")
        

def search_name(name):
    found = False
    for movie in movies:
        if movie["title"].lower() == name.lower():
            print(f"Genre: {movie['genre']}")
            print(f"Rating: {movie['rating']}")
            print(f"Synopsis: {movie['synopsis']}\n")
            found = True
            print(f"Movies with similar genres ({movie['genre']}):")
            genre_m=[]
            genre_m.append(movie)
            x=len(genre_m)
            for i in range(x):
                for j in range(0,x-i-1):
                    if genre_m[j]['rating']<genre_m[j+1]['rating']:
                        genre_m[j],genre_m[j+1]=genre_m[j+1],genre_m[j]
            for movie in genre_m:
                print(f"Movie Title: {movie['title']}")
                print(f"Rating: {movie['rating']}")
                print(f"Synopsis: {movie['synopsis']}\n")
            
    if not found:
        print("Movie not found")
            
def heighest_rating():
    x=len(movies)
    for i in range(x):
        for j in range(0,x-i-1):
            if movies[j]['rating']< movies[j+1]['rating']:
                movies[j],movies[j+1]=movies[j+1],movies[j]
    for movie in movies:
        print(f"Movie Title: {movie['title']}")
        print(f"Genre: {movie['genre']}")
        print(f"Rating: {movie['rating']}")
        print(f"Synopsis: {movie['synopsis']}\n")
                
def add_movie(title, genre, rating, synopsis):
    movie = {
        "title": title,
        "genre": genre,
        "rating": float(rating),
        "synopsis": synopsis
    }
    movies.append(movie)
    print("Movie successfully added")
    print(f"Movie Title: {movie['title']}")
    print(f"Genre: {movie['genre']}")
    print(f"Rating: {movie['rating']}")
    print(f"Synopsis: {movie['synopsis']}\n")

print(" Welcoome to CineMatch:\n")
print('''
CineMatch is a Python-based movie database and recommendation tool that manages a list of films and offers functionalities such as searching by genre or title, sorting films by rating, and adding new movies. It supports diverse cinematic selections, facilitating easy access to film details and personalized movie recommendations.\n''')

while True:
    print("1.Search a Movie\n2.Search by Genre\n3.See the list of all the movies by rating\n4.Add a Movie\n5.Exit")
    n=int(input("Choose a option: "))
    if n==1:
        name=input("Enter the name of the movie: ")
        search_name(name)
    elif n==2:
        genre=input("Enter a Genre: ")
        search_genre(genre)
    elif n==3:
        heighest_rating()
    elif n==4:
        title = input("Enter the movie title: ")
        genre = input("Enter the movie genre: ")
        rating = input("Enter the movie rating (e.g., 8.5): ")
        synopsis = input("Enter the movie synopsis: ")
        add_movie(title,genre,rating,synopsis)
    elif n==5:
        break
    else:
        print("Please Choose a correct option")
